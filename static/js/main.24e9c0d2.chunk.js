(this.webpackJsonpfarmdashboard=this.webpackJsonpfarmdashboard||[]).push([[0],{195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(73),i=a.n(l),o=(a(83),a(11)),s=a(12),c=a(13),m=a(15),d=a(14),u=a(34),h=function(e){return r.a.createElement(u.a,{options:e.options,data:e.data})},g=a(48),p=a.n(g),y=a(203),b=a(204),E=a(205),I=a(207),C=(a(195),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={weather:"",cloudCover:0,windSpeed:0,gauge:{},gaugeHumidity:{},fan:{},lineChartData:{labels:[],datasets:[{id:0,type:"line",label:"Indoor Temperature",backgroundColor:"rgba(0, 0, 0, 0)",pointBorderColor:"rgba(100,200,100, 0)",pointHoverBorderColor:"rgba(100,200,100, 1)",borderColor:"rgba(135,206,250,1)",fill:!0,borderWidth:"2",lineTension:1,data:[],showLine:!0,spanGaps:!0,showPoint:!1},{id:1,type:"line",label:"Outdoor Temperature",backgroundColor:"rgba(0, 0, 0, 0)",pointBorderColor:"rgba(135,206,250,0)",pointHoverBorderColor:"rgba(135,206,250,1)",borderColor:"rgba(100,200,100, 1)",fill:!0,borderWidth:"2",lineTension:1,data:[],showLine:!0,spanGaps:!0,showPoint:!1}]},lineChartOptions:{responsive:!0,maintainAspectRatio:!1,title:{text:"Temperature Charts",display:!0},tooltips:{enabled:!0},scales:{yAxes:[{ticks:{autoSkip:!0,beginAtZero:!0,gridLines:{display:!1}}}],xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:10,gridLines:{display:!1}}}]}},pieData:{labels:["clouds","clear sky"],datasets:[{data:[0,100],backgroundColor:["#D3D3D3","#00FFFF"],hoverBackgroundColor:["#A9A9A9","#0000CD"]}]}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={messageType:"propertyStatus",data:{temperature:Number}};this.ws=new WebSocket("wss://sherringiscaring.mozilla-iot.org/things/http---192.168.1.100-things-DHTSensor?jwt=eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhjOWVhNjA3LWE1ZWQtNDEyZS1iYmUxLWU2Yjk4OTk3NzM3NyJ9.eyJyb2xlIjoidXNlcl90b2tlbiIsImlhdCI6MTU4OTc0ODIxNywiaXNzIjoiaHR0cHM6Ly9zaGVycmluZ2lzY2FyaW5nLm1vemlsbGEtaW90Lm9yZyJ9.BvpmWFRxZsgQ25BAUcWjqyXE-ZmXOllgZN6xUJ9THewr6ckyo-MEhjgicPfknK8_KoJ1wolSrMIH6Wz1IaC8Xg","webthing"),this.ws.onopen=function(){var a;console.log("Connection Opened! (Inside Temp)"),e.ws.send(JSON.stringify(t)),fetch("https://sherringiscaring.mozilla-iot.org/things/weather-7122537431f4dc3d166c957717ee2b498815d683/properties",{method:"GET",headers:{Accept:"application/json",authorization:"Bearer eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhjOWVhNjA3LWE1ZWQtNDEyZS1iYmUxLWU2Yjk4OTk3NzM3NyJ9.eyJyb2xlIjoidXNlcl90b2tlbiIsImlhdCI6MTU4OTc0ODIxNywiaXNzIjoiaHR0cHM6Ly9zaGVycmluZ2lzY2FyaW5nLm1vemlsbGEtaW90Lm9yZyJ9.BvpmWFRxZsgQ25BAUcWjqyXE-ZmXOllgZN6xUJ9THewr6ckyo-MEhjgicPfknK8_KoJ1wolSrMIH6Wz1IaC8Xg"}}).then((function(e){return e.json()})).then((function(t){a=t,console.log(t),n.data.push(a.temperature),e.setState({weather:"".concat(t.description),windSpeed:t.windSpeed,cloudCover:t.cloudCover})})).catch((function(e){return console.log(e)}));var n=e.state.lineChartData.datasets[1]},this.ws.onmessage=function(t){var a=JSON.parse(t.data),n=e.state.lineChartData.datasets[0],r=Object(o.a)({},n);if(a.data.temperature){var l;fetch("https://sherringiscaring.mozilla-iot.org/things/weather-7122537431f4dc3d166c957717ee2b498815d683/properties",{method:"GET",headers:{Accept:"application/json",authorization:"Bearer eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhjOWVhNjA3LWE1ZWQtNDEyZS1iYmUxLWU2Yjk4OTk3NzM3NyJ9.eyJyb2xlIjoidXNlcl90b2tlbiIsImlhdCI6MTU4OTc0ODIxNywiaXNzIjoiaHR0cHM6Ly9zaGVycmluZ2lzY2FyaW5nLm1vemlsbGEtaW90Lm9yZyJ9.BvpmWFRxZsgQ25BAUcWjqyXE-ZmXOllgZN6xUJ9THewr6ckyo-MEhjgicPfknK8_KoJ1wolSrMIH6Wz1IaC8Xg"}}).then((function(e){return e.json()})).then((function(t){l=t,function(){i.data.push(l.temperature),s.data.splice(0,1,l.cloudCover),s.data.splice(1,1,100-l.cloudCover),console.log(this.state.weatherImg)}(),e.setState({weather:"".concat(t.description),windSpeed:t.windSpeed,cloudCover:t.cloudCover,pieData:u})})).catch((function(e){return console.log(e)}));var i=e.state.lineChartData.datasets[1],s=e.state.pieData.datasets[0],c=Object(o.a)({},i);r.data.push(a.data.temperature);var m=Object(o.a)({},s),d=Object(o.a)(Object(o.a)(Object(o.a)({},e.state.lineChartData.datasets),{},{datasets:[r,c]},e.state.lineChartData.datasets[1]),{},{datasets:[r,c],labels:e.state.lineChartData.labels.concat((new Date).toLocaleTimeString())}),u=Object(o.a)(Object(o.a)({},e.state.pieData.datasets),{},{datasets:[m]}),h=a.data.temperature;e.setState({lineChartData:d,gauge:h}),console.log(e.state)}if(a.data.humidity){var g=a.data.humidity;e.setState({gaugeHumidity:g})}}}},{key:"render",value:function(){return r.a.createElement(y.a,{style:{height:"50vh"},className:"something"},r.a.createElement(b.a,{style:{height:"70%"}},r.a.createElement(h,{className:"line chart",data:this.state.lineChartData,options:this.state.lineChartOptions})),r.a.createElement(b.a,{style:{height:"40%",marginBottom:"5%"}},r.a.createElement(E.a,null,r.a.createElement(I.a,{style:{margin:"0",padding:"0",textAlign:"center"}},r.a.createElement(I.a.Title,null,"Current Indoor Temperature"),r.a.createElement(I.a.Body,{style:{margin:"0",padding:"0",textAlign:"center"}},r.a.createElement(p.a,{forceRender:!0,fluidWidth:!1,minValue:10,maxValue:30,startColor:"red",endColor:"green",segments:5,value:this.state.gauge,needleColor:"purple",height:150,width:175})))),r.a.createElement(E.a,null,r.a.createElement(I.a,{style:{margin:"0",padding:"0",textAlign:"center"}},r.a.createElement(I.a.Title,null,"Current Indoor Humidity"),r.a.createElement(I.a.Body,{style:{margin:"0",padding:"0",textAlign:"center"}},r.a.createElement(p.a,{forceRender:!0,fluidWidth:!1,minValue:0,maxValue:60,startColor:"red",endColor:"green",segments:3,value:this.state.gaugeHumidity,needleColor:"purple",height:150,width:175}))))),r.a.createElement(b.a,{style:{height:"40%"}},r.a.createElement(y.a,null,r.a.createElement(b.a,{style:{height:"2%",marginTop:"2%"}},r.a.createElement(E.a,{style:{height:"100%"}},r.a.createElement(I.a,null,"Cloud Cover: ",this.state.cloudCover,"%",r.a.createElement(u.b,{data:this.state.pieData}))),r.a.createElement(E.a,{style:{height:"100%"}},r.a.createElement(I.a,{className:"box4"},r.a.createElement("br",null),"weather images being changed at the moment",r.a.createElement("br",null),"wind speed: ",this.state.windSpeed," mph",r.a.createElement("br",null),"weather: ",this.state.weather))))))}}]),a}(r.a.Component)),f=(a(196),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={fan:"",buttonColor:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={messageType:"propertyStatus",data:{on:!0}};this.ws3=new WebSocket("wss://sherringiscaring.mozilla-iot.org/things/tplink-8006FCBECD4C4C98FFDE442CEED8F07019989CAB?jwt=eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhjOWVhNjA3LWE1ZWQtNDEyZS1iYmUxLWU2Yjk4OTk3NzM3NyJ9.eyJyb2xlIjoidXNlcl90b2tlbiIsImlhdCI6MTU4OTc0ODIxNywiaXNzIjoiaHR0cHM6Ly9zaGVycmluZ2lzY2FyaW5nLm1vemlsbGEtaW90Lm9yZyJ9.BvpmWFRxZsgQ25BAUcWjqyXE-ZmXOllgZN6xUJ9THewr6ckyo-MEhjgicPfknK8_KoJ1wolSrMIH6Wz1IaC8Xg","webthing"),this.ws3.onopen=function(){console.log("Connection Opened! (Fan)"),e.ws3.send(JSON.stringify(t))},this.ws3.onmessage=function(t){var a=JSON.parse(t.data);1==a.data.on?e.setState({fan:"on",buttonColor:"led-green"}):0==a.data.on&&e.setState({fan:"off",buttonColor:"led-red"})}}},{key:"render",value:function(){return r.a.createElement(y.a,{style:{alignText:"center"}},r.a.createElement("div",{class:this.state.buttonColor}),r.a.createElement("p",null,"Fan: ",this.state.fan))}}]),a}(n.Component)),v=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={Mister:"",buttonColor:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={messageType:"propertyStatus",data:{on:!0}};this.ws=new WebSocket("wss://sherringiscaring.mozilla-iot.org/things/tplink-8006289E78CEF13619AF8FDE7F8FE2B31B28BAFA?jwt=eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhjOWVhNjA3LWE1ZWQtNDEyZS1iYmUxLWU2Yjk4OTk3NzM3NyJ9.eyJyb2xlIjoidXNlcl90b2tlbiIsImlhdCI6MTU4OTc0ODIxNywiaXNzIjoiaHR0cHM6Ly9zaGVycmluZ2lzY2FyaW5nLm1vemlsbGEtaW90Lm9yZyJ9.BvpmWFRxZsgQ25BAUcWjqyXE-ZmXOllgZN6xUJ9THewr6ckyo-MEhjgicPfknK8_KoJ1wolSrMIH6Wz1IaC8Xg","webthing"),this.ws.onopen=function(){console.log("Connection Opened! (Mister)"),e.ws.send(JSON.stringify(t))},this.ws.onmessage=function(t){var a=JSON.parse(t.data);1==a.data.on?e.setState({Mister:"on",buttonColor:"led-green"}):0==a.data.on&&e.setState({Mister:"off",buttonColor:"led-red"})}}},{key:"render",value:function(){return r.a.createElement(y.a,{style:{alignItems:"center",alignText:"center"}},r.a.createElement("div",{class:this.state.buttonColor}),r.a.createElement("p",null,"Mister: ",this.state.Mister))}}]),a}(n.Component),w=(a(197),a(50)),j=a(33),O=(a(198),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={newItem:"",list:[]},e}return Object(c.a)(a,[{key:"updateInput",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"addItem",value:function(){var e={id:1+Math.random(),value:this.state.newItem.slice()},t=Object(w.a)(this.state.list);t.push(e),this.setState({list:t,newItem:""})}},{key:"deleteItem",value:function(e){var t=Object(w.a)(this.state.list).filter((function(t){return t.id!==e}));this.setState({list:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(I.a,{className:"todo"},r.a.createElement(I.a.Title,{className:"todo-title"},"Farm To-Do-List"),r.a.createElement(I.a.Body,null,this.state.list.length<1?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Everything is currently taken care of!"),r.a.createElement("p",null,"As parts of the farm need attention, such as water level going too high, eratic sensor values, or weekly maintenance items, the list will automatically populate")):r.a.createElement("ul",null,this.state.list.map((function(t){return r.a.createElement("li",{key:t.id},t.value,r.a.createElement("button",{onClick:function(){return e.deleteItem(t.id)}},r.a.createElement("i",{class:"material-icons"},"x")))})))),r.a.createElement("br",null),r.a.createElement("p",null,"Or Add a Custom Item..."),r.a.createElement("input",{className:"form",type:"text",placeholder:"type new item here",value:this.state.newItem,onChange:function(t){return e.updateInput("newItem",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{className:"add-btn btn-floating",onClick:function(){return e.addItem()}},r.a.createElement("i",null,"Add")),r.a.createElement("br",null))}}]),a}(n.Component)),k=a(206);a(199);var N=function(){return r.a.createElement(y.a,{fluid:!0,style:{height:"90vh"}},r.a.createElement(k.a,{className:"App-header",style:{backgroundColor:"black",height:"1vh",margin:"0"}},"Undergoing maintenance for adding sensors and responsiveness on different screen sizes. May seem strange on a smaller screen or completely broken on a phone. Enjoy some climate data in the meantime..."),r.a.createElement(b.a,null,r.a.createElement(E.a,{sm:12,md:9,lg:9,className:"col-1"},r.a.createElement(C,null)),r.a.createElement(E.a,{sm:4,md:3,lg:3,className:"col-2"},r.a.createElement(b.a,{style:{height:"75vh"}},r.a.createElement(O,{style:{height:"100%"}})),r.a.createElement(b.a,{style:{height:"10vh",marginTop:"5vh"}},r.a.createElement(I.a,{style:{height:"100%",width:"100%",padding:"0",margin:"0"}},r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(f,null)),r.a.createElement(E.a,null,r.a.createElement(v,null))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,a){e.exports=a(200)},83:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.24e9c0d2.chunk.js.map